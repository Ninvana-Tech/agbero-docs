"use strict";(self.webpackChunkagbero_docs=self.webpackChunkagbero_docs||[]).push([[361],{2939:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"index","title":"Getting Started","description":"Seamlessly integrate ride-sharing services into your platform with Agbero\'s APIs.","source":"@site/docs/index.md","sourceDirName":".","slug":"/","permalink":"/","draft":false,"unlisted":false,"editUrl":"https://github.com/Ninvana-Tech/agbero-docs/tree/main/docs/index.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"id":"index","title":"Getting Started","description":"Seamlessly integrate ride-sharing services into your platform with Agbero\'s APIs.","slug":"/"},"sidebar":"tutorialSidebar"}');var s=r(4848),t=r(8453);const o={sidebar_position:1,id:"index",title:"Getting Started",description:"Seamlessly integrate ride-sharing services into your platform with Agbero's APIs.",slug:"/"},a="agbero API Documentation \ud83d\ude80",d={},l=[{value:"Overview",id:"overview",level:2},{value:"Base URLs for API and WebView Integration",id:"base-urls-for-api-and-webview-integration",level:3},{value:"Production Environment",id:"production-environment",level:4},{value:"Testing Environment",id:"testing-environment",level:4},{value:"Integration Steps",id:"integration-steps",level:2},{value:"1. WebView Integration",id:"1-webview-integration",level:3},{value:"2. Trip Creation Workflow",id:"2-trip-creation-workflow",level:3},{value:"3. Webhook Integration",id:"3-webhook-integration",level:3},{value:"4. Driver Integration",id:"4-driver-integration",level:3},{value:"Driver Authentication",id:"driver-authentication",level:3},{value:"Example Driver Signup Request",id:"example-driver-signup-request",level:4}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"agbero-api-documentation-",children:"agbero API Documentation \ud83d\ude80"})}),"\n",(0,s.jsx)(n.p,{children:"Agbero's API provides seamless ride-sharing integration for third-party platforms. This document outlines the steps and requirements for merchants to integrate with Agbero's services effectively."}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"Agbero enables merchants to integrate ride-booking services with minimal setup. Below is a guide to help merchants integrate and interact with Agbero's system."}),"\n",(0,s.jsx)(n.h3,{id:"base-urls-for-api-and-webview-integration",children:"Base URLs for API and WebView Integration"}),"\n",(0,s.jsx)(n.p,{children:"Agbero provides separate environments for testing and production to ensure seamless development and deployment."}),"\n",(0,s.jsx)(n.h4,{id:"production-environment",children:"Production Environment"}),"\n",(0,s.jsx)(n.p,{children:"Use the following URLs for the live production environment:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"WebView Integration"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"https://widget.agbero.com.ng\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"REST API"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"https://api.agbero.com.ng\n"})}),"\n",(0,s.jsx)(n.h4,{id:"testing-environment",children:"Testing Environment"}),"\n",(0,s.jsx)(n.p,{children:"For testing and development, use the sandbox environment:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"WebView Integration"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"https://widget-sandbox.agbero.com.ng\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"REST API"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"https://apisandbox.agbero.com.ng\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can also download a Demo app that connects to the sandbox widget ",(0,s.jsx)(n.a,{href:"https://drive.google.com/file/d/1-dEJOW1xkqvoDKuTyteTDjdYOUfXdFC-/view?usp=sharing",children:"here"})]}),"\n",(0,s.jsx)(n.admonition,{title:"Caution",type:"caution",children:(0,s.jsx)(n.p,{children:"The sandbox environment is designed for testing purposes only. It mirrors the production environment but does not affect real data.\nEnsure you replace the URLs appropriately when switching between testing and production environments."})}),"\n",(0,s.jsx)(n.h2,{id:"integration-steps",children:"Integration Steps"}),"\n",(0,s.jsx)(n.h3,{id:"1-webview-integration",children:"1. WebView Integration"}),"\n",(0,s.jsx)(n.p,{children:"To facilitate ride bookings, merchants will embed a WebView widget into their platform. The following query parameters should be included when loading the WebView to improve the user experience:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"User Information"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"user_email"}),": The email address of the user booking the ride."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"user_name"}),": The full name of the user."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"user_phone"}),": The user's phone number."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"user_photo"}),": The user's profile picture."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Session Reference"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"reference"}),": A unique reference to track the session and transactions related to the booking."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"WebView URL Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"https://widget-sandbox.agbero.com.ng/book?key={your-api-key}&user_email={user-email}&user_name={user-name}&user_phone={user-phone}&reference={unique-reference}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-trip-creation-workflow",children:"2. Trip Creation Workflow"}),"\n",(0,s.jsx)(n.p,{children:"Before creating a trip, Agbero requires the merchant to validate the user's account balance. This is achieved through an endpoint provided by the merchant. The workflow is as follows:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Pre-Validation Request:"})}),"\n",(0,s.jsxs)(n.p,{children:["Agbero will send a ",(0,s.jsx)(n.code,{children:"POST"})," request to the merchant's endpoint with the trip cost and user details."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example Request:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "amount": 5000,\n  "user_email": "user@example.com",\n  "reference": "unique-reference"\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Merchant Response:"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"If the user has sufficient funds, the merchant must respond with:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Status Code:"})," ",(0,s.jsx)(n.code,{children:"200 OK"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Response Body:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "status": "success",\n  "message": "User has sufficient balance."\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"If the user does not have sufficient funds, the merchant must respond with:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Status Code:"})," ",(0,s.jsx)(n.code,{children:"402 Payment Required"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Response Body:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "status": "error",\n  "message": "Insufficient balance."\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Trip Creation:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Upon receiving a ",(0,s.jsx)(n.code,{children:"200 OK"})," response, Agbero will proceed to create the trip."]}),"\n",(0,s.jsxs)(n.li,{children:["If a ",(0,s.jsx)(n.code,{children:"402 Payment Required"})," response is received, the trip creation will be halted."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-webhook-integration",children:"3. Webhook Integration"}),"\n",(0,s.jsxs)(n.p,{children:["Merchants must provide a webhook endpoint to receive updates on trip statuses. Agbero will send ",(0,s.jsx)(n.code,{children:"POST"})," requests to this endpoint whenever the trip status changes."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Webhook Payload Example:"})}),"\n",(0,s.jsx)(n.p,{children:"When a trip is created, we return a trip ID"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "reference": "reference-provided-by-the-merchant",\n  "event": "TRIP_CREATED",\n  "data": {\n    "trip_id": "1234-5678-91039",\n    "amount": 5000.0, // the expected trip amount\n    "user_email": "user@example.com",\n    "driver_id": "1233-4R456-56565-5656"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Or for a completed trip"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "reference": "reference-provided-by-the-merchant",\n  "event": "TRIP_COMPLETED",\n  "data": {\n    "trip_id": "1234-5678-91039",\n    "user_email": "user@example.com",\n    "driver_id": "1233-4R456-56565-5656",\n    "price": 1900\n  }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Or for a canceled trip"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "reference": "reference-provided-by-the-merchant",\n  "event": "TRIP_CANCELED",\n  "data": {\n    "trip_id": "1234-5678-91039",\n    "user_email": "user@example.com",\n    "driver_id": "1233-4R456-56565-5656"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.admonition,{title:"Note",type:"info",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Ensure your pre-validation endpoint responds promptly to minimize delays in trip creation."}),"\n",(0,s.jsxs)(n.li,{children:["Use the recommended status codes (",(0,s.jsx)(n.code,{children:"200 OK"})," and ",(0,s.jsx)(n.code,{children:"402 Payment Required"}),") to standardize communication."]}),"\n"]})}),"\n",(0,s.jsx)(n.h3,{id:"4-driver-integration",children:"4. Driver Integration"}),"\n",(0,s.jsx)(n.p,{children:"Drivers can donwload the agbero Driver app which is available on the Play Store. The driver will use this app to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Register an account"}),"\n",(0,s.jsx)(n.li,{children:"Log in"}),"\n",(0,s.jsx)(n.li,{children:"Accept ride requests"}),"\n",(0,s.jsx)(n.li,{children:"Track rides in real-time"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Download the app from"}),": ",(0,s.jsx)(n.a,{href:"https://play.google.com/store/apps/details?id=com.agbero.driver",children:"Google Play Store - Agbero Driver App"})]}),"\n",(0,s.jsx)(n.h3,{id:"driver-authentication",children:"Driver Authentication"}),"\n",(0,s.jsxs)(n.p,{children:["While drivers mainly use the app to manage their accounts, you can still interact with the driver-related API endpoints if needed. For example, you can create a driver account using the ",(0,s.jsx)(n.strong,{children:"Driver Signup"})," API."]}),"\n",(0,s.jsx)(n.h4,{id:"example-driver-signup-request",children:"Example Driver Signup Request"}),"\n",(0,s.jsx)(n.p,{children:"You can use the API to register a new driver programmatically. The following example shows how to register a driver via the API. An email is sent to the user which includes a default password generated by the system"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST https://apisandbox.agbero.com.ng/api/v1/driver/create \\\n  -H "Authorization: YOUR_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "firstName": "John",\n    "lastName" : "Doe",\n    "email": "driver@example.com",\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var i=r(6540);const s={},t=i.createContext(s);function o(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);